{% extends 'base.html' %}

{% block title %}
Tasks - 
{% endblock title %}

{% block content %}
    <!-- <h1>Hello, world!</h1> -->

    <form method="post">
    {% csrf_token %}

        {{task_form}} <!-- variable -->

        <button type="submit">SUBMIT</button>
    </form>

    <!-- loop over each item in the array, making the item available in a context variable -->
    <!-- Below, the url tag returns an absolute path reference (URL w/o domain name) matching a given view and optional parameters -->
        <!-- First argument is a url pattern, additional arguments are optional and should be space-separated values that will be used as arguments in the URL. Here, we pass task.id to view -->
    <ol>
        {% for task in tasks %}
            <li>
                {% if task.completed == True %}
                    <strike>{{task.title}}</strike> 
                    {% else %}
                        {{task.title}}
                    {% endif %}

                    | <a href='{% url "update_task" task.id %}'>Update</a>
            </li>
        {% endfor %}
    </ol>

{% endblock content %}

<!-- csrf_token -->
    <!-- A template tag that introduces a hidden field with an autogenerated token to avoid cross-site request forgery attacks -->
    <!-- These attacks consist of a malicious website or program performing an unwanted action for a user on your site -->
    <!-- By default, django checks for the CSRF token in all POST request, and therefore should be included in all forms submitted via POST -->